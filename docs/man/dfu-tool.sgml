<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
  <!-- Please adjust the date whenever revising the manpage. -->
  <!ENTITY date        "<date>26 February,2015</date>">
  <!ENTITY package     "dfu-tool">
  <!ENTITY gnu         "<acronym>GNU</acronym>">
  <!ENTITY gpl         "&gnu; <acronym>GPL</acronym>">
]>

<refentry>
  <refentryinfo>
    <address>
      <email>richard@hughsie.com</email>;
    </address>
    <author>
      <firstname>Richard</firstname>
      <surname>Hughes</surname>
    </author>
    <copyright>
      <year>2015</year>
      <holder>Richard Hughes</holder>
    </copyright>
    &date;
  </refentryinfo>
  <refmeta>
    <refentrytitle>dfu-tool</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>&package;</refname>
    <refpurpose>Device Firmware Upgrade Tool</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&package;</command>
      <arg><option>--verbose</option></arg>
    </cmdsynopsis>
  </refsynopsisdiv>
  <refsect1>
    <title>DESCRIPTION</title>
    <para>
      This manual page documents briefly the <command>&package;</command> command.
    </para>
    <para>
      <command>&package;</command> allows a user to write various kinds of
      firmware onto devices supporting the USB Device Firmware Upgrade protocol.
      This tool can be used to switch the device from runtime and DFU modes to
      allow reading the device contents from supported devices.
      Either the whole device can be written in one operation, or individual
      `targets' can be specified with the alternative name or number.
    </para>
    <para>
      <command>&package;</command> uses the <literal>libdfu</literal> shared
      library to perform actions.
      Any syncronous actions can be safely cancelled and on failure will return
      errors with both a type and a full textual description.
      libdfu supports DFU 1.0, DFU 1.1 and the ST DfuSe vendor extension, and
      handles many device `quirks' necessary for the real-world implementations
      of <acronym>DFU</acronym>.
    </para>
    <para>
      Additionally <command>&package;</command> can be used to convert firmware
      from various different formats, or to modify details about the elements,
      images and metadata contained inside the firmware file.
      For example, you can easily convert DFU 1.1 firmware into the
      vendor-specific DfuSe format, convert a Intel HEX file into a raw file
      padded to a specific size, or add new copyright and licensing information
      to an existing file.
      Fields such as the vendor and product IDs can be changed, and the firmware
      elements can be encrypted and decrypted using various different methods.
      Merging two DfuSe files together is also possible, although specifying
      different alt-setting numbers before merging is a good idea to avoid
      confusion.
    </para>
    <para>
      Although <command>&package;</command> tries to provide a large number of
      easy-to-use commands, it may only be possible to do certain operations
      using the <literal>libdfu</literal> library directly.
      This is easier than it sounds, as the library is built with GObject
      Introspection support making it usable in many languages such as C,
      Javascript and Python.
      Furthermore, using the library is a good idea if you want to perform
      multiple operations on large firmware files, for instance,
      converting from an Intel HEX file, padding to a certain size, setting
      vendor and adding licensing information and then saving to a remote
      location.
    </para>
  </refsect1>
  <refsect1>
    <title>OPTIONS</title>
    <para>
      This program follows the usual &gnu; command line syntax,
      with long options starting with two dashes (`-').  A summary of
      options is included below.
    </para>
    <variablelist>
      <varlistentry>
        <term>
          <option>--help</option>
        </term>
        <listitem>
          <para>Show summary of all the commands available for use.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <option>--verbose</option>
        </term>
        <listitem>
          <para>Show extra debugging information.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>AUTHOR</title>
    <para>This manual page was written by Richard Hughes <email>richard@hughsie.com</email>.
    </para>
  </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
